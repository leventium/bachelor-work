# Ассемблерные вставки

Изучая и обдумывая работу с микроконтроллерами мне пришла идея (вернее, я
согласился с идеей, прочитанной на стаке ранее, которую отвер изначально), что,
возможно, модификация компилятора не самый удачный подход к задаче, ведь мы
можем использовать inline assebmly, чтобы вызвать наши новые инструкции и
инкапсулировать взаимодействие с ними в библиотеку.

То есть нам даже не нужно добавлять название в набор инструкций компилятора, мы
можем просто вставлять какое-то (составленные самостоятельно) машинное слово и
исполнить его как инструкцию.

[Источник вдохновения](https://stackoverflow.com/questions/19836327/change-instruction-set-in-gcc)

Пример:

```c
int main() {
    asm __volatile__ (".byte 0x90\n");
    return 0;
}
```

## Плюсы

- Быстрота реализации
- Возможность быстро проверить работоспособность
- Гарантии того, что инструкции точно будут задействованы


## Минусы

- Нужно будет написать библиотеку работы с новыми инструкциями
- Нужно явно реализовать алгоритм шифрования с написанными функциями


## Решение

Скорее всего реализовать сначала простой вариант - хорошая идей, можно
убедиться в работоспособности всего махенизма, далее, убедившись в работе
простого подхода, можно реализовать сложный с модификацией компилятора.
